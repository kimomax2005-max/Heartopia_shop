<!DOCTYPE html>
<html lang="my">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heartopia Shop Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #fff5f8; text-align: center; padding: 20px; color: #444; margin: 0; }
        .header { margin-bottom: 25px; padding-top: 10px; }
        .header h1 { color: #ff6b9d; font-size: 26px; margin-bottom: 5px; }
        .card { background: white; border-radius: 20px; padding: 20px; margin-bottom: 15px; box-shadow: 0 5px 15px rgba(255, 107, 157, 0.1); border: 1px solid #ffeef2; display: flex; justify-content: space-between; align-items: center; }
        .item-info { text-align: left; }
        .item-info h3 { margin: 0; color: #ff4081; font-size: 18px; }
        .item-info p { margin: 5px 0 0; font-weight: bold; color: #7d7d7d; }
        .btn { background: linear-gradient(135deg, #ff85a2, #ff4081); color: white; border: none; padding: 12px 20px; border-radius: 12px; font-weight: bold; cursor: pointer; transition: 0.3s; }
        .btn:active { transform: scale(0.9); }
        
        /* Payment Overlay */
        #paymentModal { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.85); justify-content: center; align-items: center; z-index: 1000; padding: 20px; box-sizing: border-box; }
        .modal-content { background: #fff; padding: 25px; border-radius: 25px; width: 100%; max-width: 350px; position: relative; }
        .qr-img { width: 100%; border-radius: 15px; margin: 15px 0; border: 2px solid #eee; }
        .close-btn { background: #eee; color: #555; border: none; padding: 10px; border-radius: 10px; width: 100%; font-weight: bold; margin-top: 10px; }
        .status-msg { font-size: 14px; color: #ff4081; font-weight: bold; margin-top: 5px; }
    </style>
</head>
<body>

    <div class="header">
        <h1>ğŸ’– Heartopia Shop</h1>
        <p>á€…á€­á€á€ºá€á€»á€›á€á€±á€¬ Hearts á€¡á€›á€±á€¬á€„á€ºá€¸á€†á€­á€¯á€„á€º</p>
    </div>

    <div class="card">
        <div class="item-info">
            <h3>60 Hearts</h3>
            <p>1,200 MMK</p>
        </div>
        <button class="btn" onclick="openPayment('60 Hearts', '1,200')">á€á€šá€ºá€™á€Šá€º</button>
    </div>

    <div class="card">
        <div class="item-info">
            <h3>300 Hearts</h3>
            <p>5,500 MMK</p>
        </div>
        <button class="btn" onclick="openPayment('300 Hearts', '5,500')">á€á€šá€ºá€™á€Šá€º</button>
    </div>

    <div class="card">
        <div class="item-info">
            <h3>680 Hearts</h3>
            <p>12,000 MMK</p>
        </div>
        <button class="btn" onclick="openPayment('680 Hearts', '12,000')">á€á€šá€ºá€™á€Šá€º</button>
    </div>

    <div id="paymentModal">
        <div class="modal-content">
            <h2 style="color:#ff4081; margin:0;">á€„á€½á€±á€•á€±á€¸á€á€»á€±á€›á€”á€º</h2>
            <p id="order-desc" style="margin:10px 0; font-weight:bold;"></p>
            
            <img src="https://raw.githubusercontent.com/kimomax2005-max/Heartopia_shop/main/1770549719456.jpg" class="qr-img" alt="KPay QR">
            
            <p style="font-size: 13px; color: #666;">QR Scan á€–á€á€ºá á€„á€½á€±á€œá€½á€¾á€²á€•á€«á‹<br>á€œá€½á€¾á€²á€•á€¼á€®á€¸á€œá€»á€¾á€„á€º Screenshot á€€á€­á€¯ Bot á€†á€® á€•á€±á€¸á€•á€­á€¯á€·á€•á€«á‹</p>
            <button class="btn" style="width:100%;" onclick="confirmOrder()">á€¡á€±á€¬á€ºá€’á€«á€á€„á€ºá€™á€Šá€º</button>
            <button class="close-btn" onclick="closePayment()">á€™á€á€šá€ºá€á€±á€¬á€·á€•á€«</button>
        </div>
    </div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        
        let currentItem = "";
        let currentPrice = "";

        function openPayment(item, price) {
            currentItem = item;
            currentPrice = price;
            document.getElementById('order-desc').innerText = item + " - " + price + " MMK";
            document.getElementById('paymentModal').style.display = 'flex';
        }

        function closePayment() {
            document.getElementById('paymentModal').style.display = 'none';
        }

        function confirmOrder() {
            let user = tg.initDataUnsafe?.user?.username || tg.initDataUnsafe?.user?.first_name || "Unknown User";
            
            // Bot á€†á€®á€€á€­á€¯ á€¡á€±á€¬á€ºá€’á€«á€¡á€á€»á€€á€ºá€¡á€œá€€á€º á€•á€­á€¯á€·á€á€¼á€„á€ºá€¸
            let message = `ğŸ”” **Order New!**\n\nğŸ‘¤ á€á€šá€ºá€á€°: @${user}\nğŸ“¦ á€•á€…á€¹á€…á€Šá€ºá€¸: ${currentItem}\nğŸ’° á€ˆá€±á€¸á€”á€¾á€¯á€”á€ºá€¸: ${currentPrice} MMK\n\n(á€á€šá€ºá€á€°á€á€Šá€º QR á€€á€¼á€Šá€·á€ºá€•á€¼á€®á€¸ á€¡á€±á€¬á€ºá€’á€«á€á€„á€ºá€œá€­á€¯á€€á€ºá€•á€«á€•á€¼á€®)`;
            
            tg.sendData(message); // á€’á€«á€€ Bot á€†á€® á€…á€¬á€œá€¾á€™á€ºá€¸á€•á€­á€¯á€·á€á€¬á€•á€«
            tg.close(); // á€•á€­á€¯á€·á€•á€¼á€®á€¸á€›á€„á€º Web App á€•á€­á€á€ºá€á€½á€¬á€¸á€™á€šá€º
        }
    </script>
</body>
</html>
